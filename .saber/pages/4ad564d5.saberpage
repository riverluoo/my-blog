{"page":{"attributes":{"slug":"exception/dev","title":"开发中遇到的问题","date":"2019-04-26","layout":"post","excerpt":"<a href=\"https://blog.csdn.net/puma_dong/article/details/53096149\" target=\"_blank\" rel=\"noopener noreferrer\">记一次本机 InetAddress.getLocalHost()引起的项目启动变慢及解决过程</a>","createdAt":"2019-04-26T00:00:00.000Z","updatedAt":"2019-05-10T06:13:19.423Z","type":"post","permalink":"/posts/exception/dev.html"},"internal":{"id":"4ad564d5","absolute":"/root/src/my-blog/pages/_posts/exception/dev.md","relative":"_posts/exception/dev.md","isFile":true,"hoistedTags":[],"saved":false},"contentType":"markdown","content":"<h2 id=\"1%3A-dubbo-%E6%B3%A8%E5%86%8C%E6%9C%8D%E5%8A%A1%E5%BE%88%E6%85%A2\">1: dubbo 注册服务很慢</h2>\n<ul>\n<li><a href=\"https://blog.csdn.net/puma_dong/article/details/53096149\" target=\"_blank\" rel=\"noopener noreferrer\">记一次本机 InetAddress.getLocalHost()引起的项目启动变慢及解决过程</a></li>\n</ul>\n<h2 id=\"2%3A-%E6%97%A0%E6%B3%95%E5%88%9B%E5%BB%BA%E8%BF%9B%E7%A8%8B\">2: 无法创建进程</h2>\n<p><img src=\"https://riverluooo.oss-cn-beijing.aliyuncs.com/img/20190506143633.png\" alt=\"\"></p>\n<ul>\n<li>有最大进程数限制</li>\n</ul>\n<p><img src=\"https://riverluooo.oss-cn-beijing.aliyuncs.com/img/20190507105938.png\" alt=\"\"></p>\n<p>解决方式</p>\n<ul>\n<li>\n<p>临时解决</p>\n</li>\n<li>\n<p><a href=\"https://www.cnblogs.com/alipayhutu/p/3298360.html\" target=\"_blank\" rel=\"noopener noreferrer\">一次受限于操作系统进程数的 OOM</a></p>\n</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">ulimit -u 10000</code></pre></div><ul>\n<li>\n<p>永久解决</p>\n</li>\n<li>\n<p><a href=\"https://blog.csdn.net/bbaiggey/article/details/51004817\" target=\"_blank\" rel=\"noopener noreferrer\">linux 修改 max user processes limits</a></p>\n</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">/etc/security/limits.d/90-nproc.conf</code></pre></div><h2 id=\"3%3A-%E4%B8%80%E6%AC%A1-kafka-%E7%9A%84%E6%B6%88%E6%81%AF%E5%87%BA%E7%8E%B0%E7%AD%89%E5%BE%85\">3: 一次 kafka 的消息出现等待</h2>\n<p><img src=\"https://riverluooo.oss-cn-beijing.aliyuncs.com/img/20190509102313.png\" alt=\"\"></p>\n<ul>\n<li>\n<p>原因\nkafka 的配置只能有一个消费者\n<img src=\"https://riverluooo.oss-cn-beijing.aliyuncs.com/img/20190510134525.png\" alt=\"\">\n修改为 16 后重启 kafka\n<img src=\"https://riverluooo.oss-cn-beijing.aliyuncs.com/img/20190510134550.png\" alt=\"\"></p>\n</li>\n<li>\n<p>常用查询</p>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">查询 topic\n./kafka-topics.sh --zookeeper ip:2181 --list</code></pre></div><div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">查询 group\n./kafka-consumer-groups.sh --zookeeper ip:2181  --list</code></pre></div><div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">查询一个group的消费情况\n./kafka-consumer-groups.sh --zookeeper ip:2181 --group group-1 --describe</code></pre></div><p><img src=\"https://riverluooo.oss-cn-beijing.aliyuncs.com/img/20190509150622.png\" alt=\"\"></p>\n</li>\n</ul>\n"},"prop":{}}