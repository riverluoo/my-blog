{"page":{"attributes":{"slug":"git","title":"git","date":"2018-10-25","layout":"post","excerpt":"<p>原 github 项目添加一个码云的仓库地址</p>\n","createdAt":"2018-10-25T00:00:00.000Z","updatedAt":"2019-04-02T11:34:59.903Z","type":"post","permalink":"/posts/git.html"},"internal":{"id":"4a7de710","absolute":"/root/src/my-blog/pages/_posts/git.md","relative":"_posts/git.md","isFile":true,"hoistedTags":[],"saved":false},"contentType":"markdown","content":"<h1 id=\"%E4%B8%80%E3%80%81git-%E6%9C%8D%E5%8A%A1%E5%99%A8\">一、git 服务器</h1>\n<h2 id=\"%E5%88%9D%E5%A7%8B%E4%BB%93%E5%BA%93\">初始仓库</h2>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git init --bare test.git</code></pre></div><h2 id=\"%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%AF%86%E7%A0%81\">服务端密码</h2>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">passwd git</code></pre></div><h1 id=\"%E4%BA%8C%E3%80%81%E6%B7%BB%E5%8A%A0%E4%B8%8D%E5%90%8C%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93\">二、添加不同远程仓库</h1>\n<p>原 github 项目添加一个码云的仓库地址</p>\n<h2 id=\"%E6%9C%AC%E5%9C%B0%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%85%AC%E9%92%A5%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%A0%81%E4%BA%91\">本地生成一个公钥并添加到码云</h2>\n<h4 id=\"%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3\"><a href=\"http://git.mydoc.io/?t=154712\" target=\"_blank\" rel=\"noopener noreferrer\">帮助文档</a></h4>\n<h2 id=\"%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E8%BF%9C%E7%A8%8B%E5%9C%B0%E5%9D%80\">添加一个远程地址</h2>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git remote add gitee git@gitee.com:riverluoo/NoteBook.git</code></pre></div><div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git push gitee</code></pre></div><h1 id=\"%E4%B8%89-%E3%80%81git-%E5%88%A0%E9%99%A4%E8%BF%9C%E7%A8%8B\">三 、git 删除远程</h1>\n<ul>\n<li>仓库文件保留本地文件</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git rm --cached demo.md\ngit commit -m &quot;delete file&quot;\ngit push</code></pre></div><ul>\n<li>删除远程文件夹 本地保留</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git rm --cached -r demo\ngit commit -m &quot;delete directory&quot;\ngit push</code></pre></div><h1 id=\"%E5%9B%9B-%E3%80%81tag-%E6%93%8D%E4%BD%9C\">四 、tag 操作</h1>\n<ul>\n<li>创建标签</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git tag v1.0\t\t\t# 创建轻量级标签\ngit tag -a v1.0 -m &quot;prod&quot;\t# 创建附注标签</code></pre></div><ul>\n<li>删除标签</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git tag -d v1.1\t\t        \t# 删除本地标签\ngit push origin --delete tag v1.1\t# 删除远程标签</code></pre></div><ul>\n<li>查看 tag 信息</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git show v1.1</code></pre></div><ul>\n<li>提交 tag</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git push origin v1.2\t\t\t# 提交指定标签\ngit push origin --tags\t\t\t# 提交本地所有的标签</code></pre></div><ul>\n<li>检出标签</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git  checkout v1.0   # 此时会指向打v1.0标签时的代码状态，（但现在处于一个空的分支上）</code></pre></div><h2 id=\"%E4%BA%94-%E3%80%81%E5%88%AB%E5%90%8D\">五 、别名</h2>\n<ul>\n<li>git st</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git config --global alias.st status</code></pre></div><ul>\n<li>git unstage</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git config --global alias.unstage 'reset HEAD'</code></pre></div><ul>\n<li>git last</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git config --global alias.last 'log -1'</code></pre></div><ul>\n<li>git lg</li>\n</ul>\n<div class=\"saber-highlight\" v-pre=\"\" data-lang=\"\"><pre class=\"saber-highlight-code\"><code class=\"\">git config --global alias.lg &quot;log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit&quot;</code></pre></div>"},"prop":{}}